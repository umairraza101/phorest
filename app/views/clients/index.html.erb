<div class="container mt-5">
  <h1> Clients</h1>
  <div class="mb-3 mt-3">

    <%= form_tag(root_path, method: "get") do %>

        <div class="form-row">
          <div class="form-group col-md-6">

            <%= label_tag(:email) %>
            <%= text_field_tag :email, params[:email], class: 'form-control' %>
          </div>
          <div class="form-group col-md-6">

            <%= label_tag(:phone_number) %>
            <%= text_field_tag :phone, params[:phone], class: 'form-control' %>
          </div>
        </div>
        <%= submit_tag "Search", class: 'btn btn-primary' %>
    <% end %>
  </div>
  <% if @clients.present? %>
      <table class="table table-striped ">
        <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Phone Number</th>
          <th scope="col">Action</th>
        </tr>
        </thead>

        <% @clients.each do |client| %>
            <tr>
              <td> <%= client.clientId %></td>
              <td> <%= client.firstName %></td>
              <td> <%= client.lastName %></td>
              <td> <%= client.email %></td>
              <td> <%= client.mobile %></td>
              <td> <%= link_to "Create Voucher", new_voucher_path(id: client.clientId) %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
  <% else %>
      <h3 class="text-center"> No Client found </h3>
  <% end %>
</div>

